(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{LYHX:function(t,o,e){"use strict";e.r(o);var c=e("ofXK"),r=e("s7LF"),b=e("tyNb"),i=e("fXoL"),n=e("IheW"),a=e("lJxs"),s=e("AytR"),d=e("N/25");let u=(()=>{class t{constructor(t,o){this.http=t,this.authService=o,this.baseUrl=s.a.baseUrl,this.productos=[]}get usuario(){return this.authService.usuario}crear(t){const o=this.usuario.uid,e=`${this.baseUrl}/product/${o}`,c=(new n.c).set("x-token",localStorage.getItem("token"));return this.http.post(e,Object.assign(Object.assign({},t),{user:o}),{headers:c})}getCategories(){return this.http.get(`${this.baseUrl}/categories/`)}getProductos(){return this.http.get(`${this.baseUrl}/product/`).pipe(Object(a.a)(t=>this.productos=t.products))}getProducto(t){return this.http.get(`${this.baseUrl}/product/${t}`)}putProducto(t,o){const e=this.usuario.uid,c=`${this.baseUrl}/product/${t}`,r=(new n.c).set("x-token",localStorage.getItem("token"));return this.http.put(c,{producto:o,user:e},{headers:r})}search(t){const o=`${this.baseUrl}/search/products/${t}`;return console.log(o),this.http.get(o).pipe(Object(a.a)(t=>t.results))}}return t.\u0275fac=function(o){return new(o||t)(i.Pb(n.a),i.Pb(d.a))},t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p=(()=>{class t{constructor(t,o){this.fb=t,this.productService=o,this.miFormulario=this.fb.group({name:["Producto 1",[r.k.required,r.k.minLength(3)]],cod:["12345",[r.k.required,r.k.minLength(5)]],stock:["12",[r.k.required]],price:["65565",[r.k.required]],offertPrice:["900",[r.k.required]],category:["60a817dda92e181a700b5851",[r.k.required]],status:[!0,[r.k.required]]}),this.getCategories()}ngOnInit(){}crear(){console.log(this.miFormulario.value),this.productService.crear(this.miFormulario.value).subscribe(t=>{console.log(t)})}getCategories(){console.log("Getcategories"),this.productService.getCategories().subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(o){return new(o||t)(i.Jb(r.b),i.Jb(u))},t.\u0275cmp=i.Db({type:t,selectors:[["app-create"]],decls:53,vars:2,consts:[[1,"card-body"],[1,"row"],[1,"col-12"],["autocomplete","off",3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Nombre Producto",1,"form-control"],[1,"col"],["type","text","formControlName","cod","placeholder","Codigo Producto",1,"form-control"],["type","text","formControlName","stock","placeholder","Stock",1,"form-control"],["type","number","formControlName","price","placeholder","Precio",1,"form-control"],["type","number","formControlName","offertPrice","placeholder","Precio de Oferta",1,"form-control"],["id","category","formControlName","category"],["value","60a817dda92e181a700b5851"],["id","status","formControlName","status"],["value","false"],["value","true"],["type","submit",1,"btn","btn-primary",2,"float","right",3,"disabled"]],template:function(t,o){1&t&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Mb(2,"div",2),i.Mb(3,"div",1),i.Mb(4,"div",2),i.Mb(5,"h3"),i.cc(6,"Crear Producto"),i.Lb(),i.Lb(),i.Lb(),i.Mb(7,"form",3),i.Tb("ngSubmit",(function(){return o.crear()})),i.Mb(8,"div",1),i.Mb(9,"div",2),i.Mb(10,"h5"),i.cc(11,"Nombre Producto"),i.Lb(),i.Kb(12,"input",4),i.Lb(),i.Lb(),i.Mb(13,"div",1),i.Mb(14,"div",5),i.Mb(15,"h5"),i.cc(16,"Codigo Producto"),i.Lb(),i.Kb(17,"input",6),i.Lb(),i.Mb(18,"div",5),i.Mb(19,"h5"),i.cc(20,"Stock"),i.Lb(),i.Kb(21,"input",7),i.Lb(),i.Lb(),i.Mb(22,"div",1),i.Mb(23,"div",5),i.Mb(24,"h5"),i.cc(25,"Precio"),i.Lb(),i.Kb(26,"input",8),i.Lb(),i.Mb(27,"div",5),i.Mb(28,"h5"),i.cc(29,"Precio de Oferta"),i.Lb(),i.Kb(30,"input",9),i.Lb(),i.Lb(),i.Mb(31,"div",1),i.Mb(32,"div",5),i.Mb(33,"h5"),i.cc(34,"Categoria"),i.Lb(),i.Mb(35,"select",10),i.Mb(36,"option",11),i.cc(37,"Camas"),i.Lb(),i.Lb(),i.Lb(),i.Mb(38,"div",5),i.Mb(39,"h5"),i.cc(40,"Estado"),i.Lb(),i.Mb(41,"select",12),i.Mb(42,"option",13),i.cc(43,"Desactivado"),i.Lb(),i.Mb(44,"option",14),i.cc(45,"Activado"),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Mb(46,"div",1),i.Kb(47,"div",5),i.Mb(48,"div",5),i.Mb(49,"button",15),i.cc(50,"Agregar "),i.Mb(51,"b"),i.cc(52,"+"),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&t&&(i.zb(7),i.Wb("formGroup",o.miFormulario),i.zb(42),i.Wb("disabled",o.miFormulario.invalid))},directives:[r.m,r.f,r.d,r.a,r.e,r.c,r.h,r.j,r.g,r.l],styles:[".row[_ngcontent-%COMP%]{width:90%;margin-bottom:40px}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}select[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:10px;border-radius:5px;opacity:.7;color:#08c}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:focus{opacity:.9;color:#08c;border:1px solid #08c;box-shadow:0 1px 0 hsla(0,0%,100%,.25),inset 0 6px 9px rgba(65,48,48,.25)!important}input[type=password][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 2px hsla(0,0%,100%,.35),0 1px 15px rgba(13,216,223,.8)!important;border:1px solid #04a0ee!important;outline:none}"]}),t})();function l(t,o){1&t&&(i.Mb(0,"td"),i.cc(1,"Activado"),i.Lb())}function M(t,o){1&t&&(i.Mb(0,"td"),i.cc(1,"Desactivado"),i.Lb())}const h=function(t){return["/productos/update/",t]};function f(t,o){if(1&t&&(i.Mb(0,"tr"),i.Mb(1,"td"),i.cc(2),i.Lb(),i.Mb(3,"td"),i.cc(4),i.Lb(),i.Mb(5,"td"),i.cc(6),i.Lb(),i.Mb(7,"td"),i.cc(8),i.Lb(),i.bc(9,l,2,0,"td",8),i.bc(10,M,2,0,"td",8),i.Mb(11,"td",9),i.Kb(12,"i",10),i.Lb(),i.Lb()),2&t){const t=o.$implicit;i.zb(2),i.dc(t.name),i.zb(2),i.dc(t.cod),i.zb(2),i.dc(t.price),i.zb(2),i.dc(t.stock),i.zb(1),i.Wb("ngIf",t.status),i.zb(1),i.Wb("ngIf",!t.status),i.zb(2),i.Wb("routerLink",i.Xb(7,h,t._id))}}let g=(()=>{class t{constructor(t){this.productService=t,this.productos=[]}ngOnInit(){}actualizar(t){t?this.productService.search(t).subscribe(t=>{this.productos=t,console.log(t)}):this.productos=[]}}return t.\u0275fac=function(o){return new(o||t)(i.Jb(u))},t.\u0275cmp=i.Db({type:t,selectors:[["app-edit"]],decls:31,vars:1,consts:[[1,"card-body"],[1,"row"],[1,"col"],[1,"col-12"],["type","text","id","termino","placeholder","Nombre o Codigo de producto...",1,"form-control",3,"onchange","keyup"],[1,"table","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"color","#FFC312"],[1,"fas","fa-edit","fa-2x",3,"routerLink"]],template:function(t,o){1&t&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Mb(2,"div",2),i.Mb(3,"div",1),i.Mb(4,"div",3),i.Mb(5,"div",1),i.Mb(6,"div",3),i.Mb(7,"h3"),i.cc(8,"Actualizar Producto"),i.Lb(),i.Lb(),i.Lb(),i.Mb(9,"div",1),i.Mb(10,"div",3),i.Mb(11,"input",4),i.Tb("onchange",(function(t){return o.actualizar(t.target.value)}))("keyup",(function(t){return o.actualizar(t.target.value)})),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Mb(12,"div",1),i.Mb(13,"div",2),i.Mb(14,"table",5),i.Mb(15,"thead"),i.Mb(16,"tr"),i.Mb(17,"th",6),i.cc(18,"Producto"),i.Lb(),i.Mb(19,"th",6),i.cc(20,"Codigo"),i.Lb(),i.Mb(21,"th",6),i.cc(22,"Precio"),i.Lb(),i.Mb(23,"th",6),i.cc(24,"Stock"),i.Lb(),i.Mb(25,"th",6),i.cc(26,"Estado"),i.Lb(),i.Mb(27,"th",6),i.cc(28,"Editar"),i.Lb(),i.Lb(),i.Lb(),i.Mb(29,"tbody"),i.bc(30,f,13,9,"tr",7),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&t&&(i.zb(30),i.Wb("ngForOf",o.productos))},directives:[c.h,c.i,b.c],styles:[".row[_ngcontent-%COMP%]{width:90%;margin-bottom:40px}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}select[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:10px;border-radius:5px;opacity:.7;color:#08c}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:focus{opacity:.9;color:#08c;border:1px solid #08c;box-shadow:0 1px 0 hsla(0,0%,100%,.25),inset 0 6px 9px rgba(65,48,48,.25)!important}input[type=password][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 2px hsla(0,0%,100%,.35),0 1px 15px rgba(13,216,223,.8)!important;border:1px solid #04a0ee!important;outline:none}"]}),t})();function L(t,o){1&t&&(i.Mb(0,"td"),i.cc(1,"Activado"),i.Lb())}function m(t,o){1&t&&(i.Mb(0,"td"),i.cc(1,"Desactivado"),i.Lb())}function v(t,o){if(1&t&&(i.Mb(0,"tr"),i.Mb(1,"td"),i.cc(2),i.Lb(),i.Mb(3,"td"),i.cc(4),i.Lb(),i.Mb(5,"td"),i.cc(6),i.Lb(),i.Mb(7,"td"),i.cc(8),i.Lb(),i.bc(9,L,2,0,"td",13),i.bc(10,m,2,0,"td",13),i.Lb()),2&t){const t=o.$implicit;i.zb(2),i.dc(t.name),i.zb(2),i.dc(t.cod),i.zb(2),i.dc(t.price),i.zb(2),i.dc(t.stock),i.zb(1),i.Wb("ngIf",t.status),i.zb(1),i.Wb("ngIf",!t.status)}}function P(t,o){if(1&t&&(i.Mb(0,"div",2),i.Mb(1,"div",3),i.Mb(2,"div",4),i.Mb(3,"div",3),i.Mb(4,"div",4),i.Mb(5,"table",5),i.Mb(6,"thead"),i.Mb(7,"tr"),i.Mb(8,"th",6),i.cc(9,"Producto"),i.Lb(),i.Mb(10,"th",6),i.cc(11,"Codigo"),i.Lb(),i.Mb(12,"th",6),i.cc(13,"Precio"),i.Lb(),i.Mb(14,"th",6),i.cc(15,"Stock"),i.Lb(),i.Mb(16,"th",6),i.cc(17,"Estado"),i.Lb(),i.Lb(),i.Lb(),i.Mb(18,"tbody"),i.bc(19,v,11,6,"tr",7),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Mb(20,"div",3),i.Kb(21,"div",8),i.Mb(22,"div",9),i.Mb(23,"span",10),i.Kb(24,"i",11),i.Lb(),i.Lb(),i.Mb(25,"div",9),i.Mb(26,"span",10),i.Kb(27,"i",12),i.Lb(),i.Lb(),i.Kb(28,"div",8),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&t){const t=i.Vb();i.zb(19),i.Wb("ngForOf",t.productos)}}function C(t,o){1&t&&(i.Mb(0,"div",14),i.Kb(1,"i",15),i.Lb())}let y=(()=>{class t{constructor(t){this.productService=t,this.productos=[],this.productService.getProductos().subscribe(t=>{this.productos=t})}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(i.Jb(u))},t.\u0275cmp=i.Db({type:t,selectors:[["app-gallery"]],decls:2,vars:2,consts:[["class","card-body animate__animated animate__fadeIn",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"card-body","animate__animated","animate__fadeIn"],[1,"row"],[1,"col"],[1,"table","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col-5"],[1,"col-1"],[2,"color","#FFC312"],[1,"fa","fa-toggle-left","fa-4x"],[1,"fa","fa-toggle-right","fa-4x"],[4,"ngIf"],[1,"card-body"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,o){1&t&&(i.bc(0,P,29,1,"div",0),i.bc(1,C,2,0,"div",1)),2&t&&(i.Wb("ngIf",o.productos),i.zb(1),i.Wb("ngIf",!o.productos))},directives:[c.i,c.h],styles:[".card-body[_ngcontent-%COMP%]{display:block}"]}),t})();const x=[{path:"",component:(()=>{class t{constructor(t,o){this.router=t,this.authService=o}get usuario(){return this.authService.usuario}logout(){this.router.navigateByUrl("/auth"),this.authService.logout()}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(i.Jb(b.b),i.Jb(d.a))},t.\u0275cmp=i.Db({type:t,selectors:[["app-main"]],decls:12,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"nav","nav-pills","nav-fill"],["routerLink","/productos/gallery","routerLinkActive","active",1,"nav-link"],["routerLink","/productos/edit","routerLinkActive","active",1,"nav-link"],["routerLink","/productos/create","routerLinkActive","active",1,"nav-link"],[1,"btn","btn-danger",3,"click"]],template:function(t,o){1&t&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Mb(2,"nav",2),i.Mb(3,"a",3),i.cc(4,"Lista"),i.Lb(),i.Mb(5,"a",4),i.cc(6,"Actualizar"),i.Lb(),i.Mb(7,"a",5),i.cc(8,"Crear"),i.Lb(),i.Mb(9,"button",6),i.Tb("click",(function(){return o.logout()})),i.cc(10,"Logout"),i.Lb(),i.Lb(),i.Lb(),i.Kb(11,"router-outlet"),i.Lb())},directives:[b.e,b.d,b.g],styles:[".card[_ngcontent-%COMP%]{height:auto;width:70%}.row[_ngcontent-%COMP%]{width:100%}"]}),t})(),children:[{path:"gallery",component:y},{path:"edit",component:g},{path:"create",component:p},{path:"update/:id",component:(()=>{class t{constructor(t,o,e){this.fb=t,this.route=o,this.productService=e,this.miFormulario=this.fb.group({name:["",[r.k.required,r.k.minLength(3)]],cod:["",[r.k.required,r.k.minLength(5)]],stock:["",[r.k.required]],price:["",[r.k.required]],offertPrice:["",[r.k.required]],category:["",[r.k.required]],status:["",[r.k.required]]})}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.productService.getProducto(t).subscribe(t=>{this.producto=t,this.miFormulario.patchValue({name:this.producto.name,cod:this.producto.cod,stock:this.producto.stock,price:this.producto.price,offertPrice:this.producto.offertPrice,category:"60a817dda92e181a700b5851",status:this.producto.status})})}update(){console.log("update"),console.log(this.miFormulario.value),this.productService.putProducto(this.route.snapshot.paramMap.get("id"),this.miFormulario.value).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(o){return new(o||t)(i.Jb(r.b),i.Jb(b.a),i.Jb(u))},t.\u0275cmp=i.Db({type:t,selectors:[["app-update"]],decls:55,vars:1,consts:[[1,"card-body"],[1,"row"],[1,"col"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-12"],["type","text","formControlName","name","placeholder","Nombre Producto",1,"form-control"],["type","text","formControlName","cod","placeholder","Codigo Producto",1,"form-control"],["type","text","formControlName","stock","placeholder","Stock",1,"form-control"],["type","number","formControlName","price","placeholder","Precio",1,"form-control"],["type","number","formControlName","offertPrice","placeholder","Precio de Oferta",1,"form-control"],["id","cars","formControlName","category"],["value","60a817dda92e181a700b5851"],["formControlName","status"],["value","false"],["value","true"],["type","submit",1,"btn","btn-success",2,"float","right"]],template:function(t,o){1&t&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Mb(2,"div",2),i.Mb(3,"div",1),i.Mb(4,"div",2),i.Mb(5,"h3"),i.cc(6,"Actualizar"),i.Lb(),i.Lb(),i.Lb(),i.Mb(7,"div",1),i.Mb(8,"div",2),i.Mb(9,"form",3),i.Tb("ngSubmit",(function(){return o.update()})),i.Mb(10,"div",1),i.Mb(11,"div",4),i.Mb(12,"h5"),i.cc(13,"Nombre Producto"),i.Lb(),i.Kb(14,"input",5),i.Lb(),i.Lb(),i.Mb(15,"div",1),i.Mb(16,"div",2),i.Mb(17,"h5"),i.cc(18,"Codigo Producto"),i.Lb(),i.Kb(19,"input",6),i.Lb(),i.Mb(20,"div",2),i.Mb(21,"h5"),i.cc(22,"Stock"),i.Lb(),i.Kb(23,"input",7),i.Lb(),i.Lb(),i.Mb(24,"div",1),i.Mb(25,"div",2),i.Mb(26,"h5"),i.cc(27,"Precio"),i.Lb(),i.Kb(28,"input",8),i.Lb(),i.Mb(29,"div",2),i.Mb(30,"h5"),i.cc(31,"Precio de Oferta"),i.Lb(),i.Kb(32,"input",9),i.Lb(),i.Lb(),i.Mb(33,"div",1),i.Mb(34,"div",2),i.Mb(35,"h5"),i.cc(36,"Categoria"),i.Lb(),i.Mb(37,"select",10),i.Mb(38,"option",11),i.cc(39,"Camas"),i.Lb(),i.Lb(),i.Lb(),i.Mb(40,"div",2),i.Mb(41,"h5"),i.cc(42,"Estado"),i.Lb(),i.Mb(43,"select",12),i.Mb(44,"option",13),i.cc(45,"Desactivado"),i.Lb(),i.Mb(46,"option",14),i.cc(47,"Activado"),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Mb(48,"div",1),i.Kb(49,"div",2),i.Mb(50,"div",2),i.Mb(51,"button",15),i.cc(52,"Actualizar "),i.Mb(53,"b"),i.cc(54,"+"),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb(),i.Lb()),2&t&&(i.zb(9),i.Wb("formGroup",o.miFormulario))},directives:[r.m,r.f,r.d,r.a,r.e,r.c,r.h,r.j,r.g,r.l],styles:[".row[_ngcontent-%COMP%]{width:90%;margin-bottom:40px}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}select[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:10px;border-radius:5px;opacity:.7;color:#08c}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:focus{opacity:.9;color:#08c;border:1px solid #08c;box-shadow:0 1px 0 hsla(0,0%,100%,.25),inset 0 6px 9px rgba(65,48,48,.25)!important}input[type=password][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 2px hsla(0,0%,100%,.35),0 1px 15px rgba(13,216,223,.8)!important;border:1px solid #04a0ee!important;outline:none}"]}),t})()},{path:"**",redirectTo:"gallery"}]}];let k=(()=>{class t{}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(o){return new(o||t)},imports:[[b.f.forChild(x)],b.f]}),t})();e.d(o,"ProductosModule",(function(){return O}));let O=(()=>{class t{}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(o){return new(o||t)},imports:[[c.b,k,r.i]]}),t})()}}]);